<div class="lg:container lg:mx-auto lg:px-16 xl:px-20 2xl:px-24">
    <h1>首頁內容</h1>
    <div class="h-screen"></div>
    <div id="block-container" class="grid grid-cols-2 gap-10 mt-30 px-4 lg:px:6 xl:px-16 2xl:px-28"></div>
</div>

<script>
    // 方塊數量
    var blockCount = 5;

    // 圖片和連結的陣列
    var blockItems = [
        { image: "https://images.unsplash.com/photo-1682589848125-dbff2da5dc8e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=453&q=80", link: "https://example.com/page1" },
        { image: "https://plus.unsplash.com/premium_photo-1665657351435-96c58da04fd1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=580&q=80", link: "" },
        { image: "", link: "https://example.com/page2" },
        { image: "image3.jpg", link: "" },
        { image: "", link: "" },
    ];

    generateBlocks(blockCount, blockItems);

    function generateBlocks(blockCount, blockItems) {
        var blocksArea = $('#block-container');

        for (var i = 0; i < blockCount; i++) {
            var blockData = blockItems[i];

            var image = blockData.image;
            var link = blockData.link;

            var block = $('<div>').addClass('block aspect-square overflow-hidden opacity-0 transform translate-y-8 transition-all custom-duration-3500 ease-out');
            var content = $('<div>').addClass('content');

            if (image !== "") {
                var img = $('<img>').attr('src', image)
                                    .addClass('w-full h-full object-cover')
                                    .on('error', function() { $(this).hide(); });
                content.append(img);
            }

            if (link !== "") {
                var a = $('<a>').attr('href', link)
                                .addClass('block w-full h-full')
                                .attr('target', '_blank')
                                .attr('rel', 'noreferrer noopener')
                                .append(content);
                block.append(a);
            } else {
                block.append(content);
            }

            blocksArea.append(block);
        }

        window.addEventListener('scroll', function() {
        var blocks = document.querySelectorAll('.block');
        
        blocks.forEach(function(block) {
            var blockPosition = block.getBoundingClientRect().top;
            var windowHeight = window.innerHeight;
            
            // 判斷方塊是否進入視窗範圍
            if (blockPosition < windowHeight) {
            block.classList.add('opacity-100', 'translate-y-0');
            }
        });
        });
    }
</script>