<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../src/assets/kinghoksu/App Icon@3x 2.png" rel="shortcut icon" type="image/x-icon">
  <title>Product | Mika's Portfolio</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <link href="../src/assets/style/css/style.min.css" rel="stylesheet">
  <link href="../src/assets/style/css/product.min.css" rel="stylesheet">
</head>

<body>
  <div id="header"></div>

  <div id="app">
    <!-- Index -->
    <div class="section relative flex items-center justify-center w-full fc-primary" id="first-section">
      <!-- BackGround -->
      <img src="../src/assets/kinghoksu/bg/bg1.png" alt="background layout image" class="w-full h-full z-0 object-cover" />
      <div class="glass z-0">
        <img src="../src/assets/kinghoksu/glass/g1.png" alt="background layout image" />
      </div>
      <img src="../src/assets/kinghoksu/glass/w1.png" alt="background layout image" class="absolute inset-0 w-full h-full z-10 object-cover" />
      
      <!-- Content -->
      <div class="content w-full z-10 flex">
        <!-- Left Helf -->
        <div class="flex flex-col items-start justify-center w-1/2 custom-font-NotoSerif ls-12 whitespace-nowrap">
          <div class="inline-flex flex-col items-center justify-start">
            <img id="logo" src="../src/assets/kinghoksu/App Icon@3x 2.png" class="custom-w-100px object-contain pb-4" alt="APP Logo" />
            <div class="app-name text-center font-black custom-font-Soukou fs-01 pb-4">
              <h3 class="whitespace-pre-line">景德祠
                APP</h3>
            </div>
          </div>
          <div class="font-bold fs-02 pb-4">
            遊戲化民間信仰<br />
            打破傳統廟宇互動方式
          </div>
          <div class="font-semibold fs-03">
            用不同角度方式解譯<br />
            古老又很不酷的台灣民俗文化
          </div>
        </div>
        <!-------------->
        <!-- Right Helf -->
        <div class="relative w-1/2 h-full">
          <img src="../src/assets/kinghoksu/img/g1.png" class="app-img relative bottom-10 ms-auto h-full object-contain" alt="APP 圖片"/>
          <img src="../src/assets/kinghoksu/gif/baibai1.png" class="absolute app-baibai" alt="拜拜" />
        </div>
        <!-------------->
      </div>
    </div>

    <!-- Menu -->
    <div class="section relative flex items-center justify-center w-full fc-primary" id="second-section">
      <!-- BackGround -->
      <img src="../src/assets/kinghoksu/bg/bg2.png" alt="background layout image" class="w-full h-full z-0 object-cover" />
      <div class="glass z-0"></div>

      <!-- Content -->
      <div class="content w-full z-10 flex">
        <!-- Left Helf -->
        <div class="custom-w-45p h-full">
          <div class="relative app-img h-full">
            <img src="../src/assets/kinghoksu/img/meow1.png" class="relative mx-auto h-full object-contain" alt="APP 圖片"/>
            <div id="typing-text" class="absolute custom-font-NotoSans font-normal"></div>
          </div>
        </div>
        <!-------------->
        <!-- Right Helf -->
        <div class="app-tab relative custom-w-55p custom-font-PingFang font-normal fs-04 ls-12">
          <img src="../src/assets/kinghoksu/img/title1.png" alt="title text" class="absolute left-0 right-0 mx-auto object-contain" />
          <a href="#summary1">
            <img src="../src/assets/kinghoksu/img/fun1.png" />
            <img src="../src/assets/kinghoksu/img/fun1.png" class="absolute inset-0" />
            <span>拜拜賺積分</span>
          </a>
          <a href="#summary2">
            <img src="../src/assets/kinghoksu/img/fun2.png" />
            <img src="../src/assets/kinghoksu/img/fun2.png" class="absolute inset-0" />
            <span>擲筊問籤</span>
          </a>
          <a href="#summary3">
            <img src="../src/assets/kinghoksu/img/fun3.png" />
            <img src="../src/assets/kinghoksu/img/fun3.png" class="absolute inset-0" />
            <span>發財金</span>
          </a>
          <a href="#summary4">
            <img src="../src/assets/kinghoksu/img/fun4.png" />
            <img src="../src/assets/kinghoksu/img/fun4.png" class="absolute inset-0" />
            <span>點燈服務</span>
          </a>
        </div>
        <!-------------->
      </div>
    </div>

    <div class="section" id="summary1" style="background-color: burlywood;"></div>
    <div class="section" id="summary2" style="background-color: rgb(154, 197, 154);"></div>
    <div class="section" id="summary3" style="background-color: rgb(135, 173, 222);"></div>
    <div class="section" id="summary4" style="background-color: rgb(222, 135, 150);"></div>

    <!-- <div class="section flex flex-col scrollable-content" data-section-name="summary1">
      <!-- First half --
      <div class="flex justify-around">
        <div class="relative app-img w-1/2 pl-24 pr-6">
          <img src="../src/assets/kinghoksu/gif/baibai2.png" class="w-full object-contain ms-auto" alt="手機拜拜打卡" />
          <div id="app-img-box-l" class="absolute custom-font-NotoSans font-normal whitespace-nowrap">手機拜神有用嗎？</div>
        </div>
        <div class="content inline-flex flex-col justify-center pl-6">
          <h3 class="custom-font-NotoSerif font-bold mb-3 relative">
            <img src="../src/assets/kinghoksu/img/cloud1.png" class="absolute" alt="雲朵" />
            每日拜拜打卡賺積分
          </h3>
          <p class="custom-font-PingFang text-center mb-5">遠距拜拜 心意不減</p>
          <div class="custom-font-NotoSans font-normal whitespace-pre-line app-box">量子糾纏！
            在微觀的物理世界裡，
            我們緊密的糾纏在一起</div>
        </div>
    </div> -->

    <!-- Menu Bar -->
    <div id="app-menu-fixed" class="fixed mx-auto left-0 right-0">
      <a href="#summary1" class="fixed-div-button">
        <img src="../src/assets/kinghoksu/img/menu1.png" />
      </a>
      <a href="#summary2" class="fixed-div-button">
        <img src="../src/assets/kinghoksu/img/menu2.png" />
      </a>
      <a href="#summary3" class="fixed-div-button">
        <img src="../src/assets/kinghoksu/img/menu3.png" />
      </a>
      <a href="#summary4" class="fixed-div-button">
        <img src="../src/assets/kinghoksu/img/menu4.png" />
      </a>
    </div>
  </div>

  <div id="footer" data-section-name="footer"></div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollify/1.0.21/jquery.scrollify.min.js" integrity="sha512-UyX8JsMsNRW1cYl8BoxpcamonpwU2y7mSTsN0Z52plp7oKo1u92Xqfpv6lOlTyH3yiMXK+gU1jw0DVCsPTfKew==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
  <script>
    $.ajax({
      url: '../src/components/header/header_kinghoksu.html',
      dataType: 'html',
      success: function(response) {
        $('#header').html(response);
      }
    });

    $.ajax({
      url: '../src/components/footer/footer.html',
      dataType: 'html',
      success: function(response) {
        $('#footer').html(response);
      }
    });

    var text = "你好呀～\n我是景德祠的虎爺\n在ＡＰＰ裡面負責引導大家唷~\n跟我一起來看景德祠ＡＰＰ有哪些特色功能吧！";
    var speed = 50;
    var typingText = document.getElementById("typing-text");

    typingText.innerHTML = "";

    function typeWriter(text, i) {
      if (i < text.length) {
        if (text.charAt(i) === "\n") {
          typingText.innerHTML += "<br>";
        } else {
          typingText.innerHTML += text.charAt(i) + "|";
        }
        setTimeout(function() {
          typingText.innerHTML = typingText.innerHTML.replace("|", "");
          typeWriter(text, i + 1);
        }, speed);
      }
    }

    var observer = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.target.id === "second-section" && entry.isIntersecting) {
          typeWriter(text, 0);
          observer.disconnect();
        }
      });
    });

    var secondSection = document.getElementById("second-section");
    observer.observe(secondSection);

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
  
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });

    var buttons = document.querySelectorAll(".fixed-div-button");

    var observer2 = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        var section = entry.target;
        var sectionIndex = Array.from(section.parentNode.children).indexOf(section);

        if (entry.isIntersecting && entry.target.id !== "second-section" && entry.target.id !== "first-section" ) {
          $("#app-menu-fixed").fadeIn(500).css("display", "flex");

          buttons.forEach(function(button, index) {
            if (sectionIndex === index + 2) {
              button.classList.add("active");
            } else {
              button.classList.remove("active");
            }
          });
        } else if(entry.target.id === "second-section" || entry.target.id === "first-section") {
          $("#app-menu-fixed").fadeOut(500);
        }
      });
    }, {
      threshold: 0.5
    });

    var sections = document.querySelectorAll(".section");
    sections.forEach(function(section) {
      observer2.observe(section);
    });

    // $(function() {
    //   var typingTimer;
    //   var isTypingInProgress = false;
      
    //   $.scrollify({
    //     section: ".section",
    //     easing: "easeOutExpo",
    //     scrollSpeed: 800,
    //     scrollbars: true,
    //     interstitialSection:"#footer",
    //     before: function(index, sections) {
    //       // 打字計時
    //       if (index === 1 && !isTypingInProgress) {
    //         var text = "你好呀～\n我是景德祠的虎爺\n在ＡＰＰ裡面負責引導大家唷~\n跟我一起來看景德祠ＡＰＰ有哪些特色功能吧！";
    //         var speed = 50;
    //         var typingText = document.getElementById("typing-text");

    //         typingText.innerHTML = "";
    //         isTypingInProgress = true;

    //         function typeWriter(text, i) {
    //           if (i < text.length) {
    //             if (text.charAt(i) === "\n") {
    //               typingText.innerHTML += "<br>";
    //             } else {
    //               typingText.innerHTML += text.charAt(i) + "|";
    //             }
    //             typingTimer = setTimeout(function() {
    //               typingText.innerHTML = typingText.innerHTML.replace("|", "");
    //               typeWriter(text, i + 1);
    //             }, speed);
    //           } else {
    //             isTypingInProgress = false;
    //           }
    //         }
    //         typeWriter(text, 0);
    //       } else if (index === 0 && typeof typingTimer !== "undefined") {
    //         clearTimeout(typingTimer);
    //         isTypingInProgress = false;
    //       }
          
    //       // Menu 出現時機
    //       if (index !== 0 && index !== 1) {
    //         $("#app-menu-fixed").fadeIn(500).css("display", "flex");
    //       } else {
    //         $("#app-menu-fixed").fadeOut(500);
    //       }

    //       // Menu Button 狀態
    //       $("#app-menu-fixed button").removeClass("active");
    //       $("#app-img-box-l").css("opacity", "0");
    //       $("#app-img-box-l").css("top", "0");

    //       if (index === 2) {
    //         $("#app-menu-fixed button:nth-child(1)").addClass("active");
    //         $("#app-img-box-l").css("opacity", "1");
    //         $("#app-img-box-l").css("top", "24%");
    //       } else if (index === 3) {
    //         $("#app-menu-fixed button:nth-child(2)").addClass("active");
    //       } else if (index === 4) {
    //         $("#app-menu-fixed button:nth-child(3)").addClass("active");
    //       } else if (index === 5) {
    //         $("#app-menu-fixed button:nth-child(4)").addClass("active");
    //       }
    //     },
    //   });

    //   $(".action-btn1").on("click", function() {
    //     $.scrollify.move("#summary1");
    //   });

    //   $(".action-btn2").on("click", function() {
    //     $.scrollify.move("#summary2");
    //   });

    //   $(".action-btn3").on("click", function() {
    //     $.scrollify.move("#summary3");
    //   });

    //   $(".action-btn4").on("click", function() {
    //     $.scrollify.move("#summary4");
    //   });
    // });
  </script>
</body>

</html>
